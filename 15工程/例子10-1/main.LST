C51 COMPILER V9.53.0.0   MAIN                                                              01/27/2015 17:42:54 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include "reg51.h"
   2          #define FOSC  18432000L
   3          #define BAUD 115200
   4          sfr AUXR  =0x8E;
   5          sfr TH2   =0xD6;
   6          sfr TL2   =0xD7;
   7          bit busy=0;
   8          xdata char menu[]={"\r\n------main menu---------------"
   9                             "\r\n     input 1:  Control LED10 "
  10                             "\r\n     input 2:  Control LED9 "
  11                             "\r\n     other  :  Exit Program"
  12                             "\r\n------end menu----------------"
  13                      };
  14            
  15          void SendData(unsigned char dat)
  16          {
  17   1        while(busy);
  18   1        SBUF=dat;
  19   1        busy=1;
  20   1      }
  21          void SendString(char *s)
  22          {
  23   1        while(*s!='\0')
  24   1          SendData(*s++);
  25   1      }
  26          void uart1() interrupt 4
  27          {
  28   1        if(RI)
  29   1          RI=0;
  30   1        if(TI)
  31   1          TI=0;
  32   1          busy=0;
  33   1      }
  34              
  35          void main()
  36          {
  37   1        unsigned char c;
  38   1        P46=0;
  39   1        P47=0;
  40   1        SCON=0x50;
  41   1        AUXR=0x14;
  42   1        AUXR|=0x01;
  43   1        TL2=(65536-((FOSC/4)/BAUD));
  44   1        TH2=(65536-((FOSC/4)/BAUD))>>8;
  45   1        ES=1;
  46   1        EA=1;
  47   1         SendString(&menu);
  48   1         while(1){
  49   2           if(RI==1)
  50   2           {
  51   3             c=SBUF;
  52   3             if(c==0x31)
  53   3                 P46=!P46;
  54   3             else if(c==0x32)
  55   3                 P47=!P47;
C51 COMPILER V9.53.0.0   MAIN                                                              01/27/2015 17:42:54 PAGE 2   

  56   3             else 
  57   3             {
  58   4                 SendString("\r\n Exit Program");
  59   4             }
  60   3           }    
  61   2         }
  62   1      }
  63            


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    120    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =    155    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
